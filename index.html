<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>장바구니 리스트</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <link href="https://emoji-css.afeld.me/emoji.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <div class="row">
                <!-- 디폴트 -->
                <div id="receipt" class="col-md-6 content" style="display:block;">
                    <div id="paper" class="wrapper overlay">
                        <h4>장바구니 리스트</h4>
                        <div class="couple">
                        </div>
                        <div class="check">
                            <div class="row text-center">
                                <div class="col-7">Items</div>
                                <div class="col-2">Quantity</div>
                                <div class="col-3">By</div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                    <img class="image-preview" src="" alt="Preview" style="display: none; max-width: 100%; height: auto;">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="memo">
                                <h4 class="text-start mb-1">MEMO</h4>
                                <textarea class="memoarea"> </textarea>
                            </div>
                        </div>
                        <p class="text-center">마나카 @latoaruji</p>
                    </div>
                </div>
                <!-- 팝큐트 -->
                <div id="popcute" class="col-md-6 content" style="display:none;">
                    <div class="wrapper overlay">
                        <h4>장바구니 리스트</h4>
                        <div class="deco1"></div>
                        <div class="deco2"></div>
                        <div class="deco3"></div>
                        <div class="back">
                            <div class="couple">
                            </div>
                            <div class="check">
                                <div class="row text-center">
                                    <div class="col-7">필요한 것</div>
                                    <div class="col-2">개수</div>
                                    <div class="col-3">쓴 사람</div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="list row">
                                    <div class="col-7">
                                        <input class="checkbox" type="checkbox">
                                        <input class="title" type="text" placeholder="우유">
                                    </div>
                                    <div class="col-2">
                                        x
                                        <input class="kosu" type="number" placeholder="2">
                                    </div>
                                    <div class="col-3">
                                        <input class="dare" type="text" placeholder="마나카">
                                    </div>
                                </div>
                                <div class="memo">
                                    <h4 class="text-start mb-1">MEMO</h4>
                                    <textarea class="memoarea"> </textarea>
                                </div>
                            </div>
                    </div>
                        <p class="text-center">마나카 @latoaruji</p>
                    </div>
                </div>
                <!-- 고양이 -->
                <div id="neko" class="col-md-6 content" style="display:none;">
                    <div class="wrapper overlay">
                        <h4>장바구니 리스트</h4>
                        <div class="deco1"></div>
                        <div class="deco2"></div>
                        <div class="deco3"></div>
                        <div class="couple">
                        </div>
                        <div class="check">
                            <div class="row text-center">
                                <div class="col-7">리스트</div>
                                <div class="col-2">개수</div>
                                <div class="col-3">쓴 사람</div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="list row">
                                <div class="col-7">
                                    <input class="checkbox" type="checkbox">
                                    <input class="title" type="text" placeholder="우유">
                                </div>
                                <div class="col-2">
                                    x
                                    <input class="kosu" type="number" placeholder="2">
                                </div>
                                <div class="col-3">
                                    <input class="dare" type="text" placeholder="마나카">
                                </div>
                            </div>
                            <div class="memo">
                                <h4 class="text-start mb-1">MEMO</h4>
                                <textarea class="memoarea"> </textarea>
                            </div>
                        </div>
                        <p class="text-center">마나카 @latoaruji</p>
                    </div>
                </div>
                <div id="settings" class="col-md-6">
                    <h3 class="text-center">Settings</h3>
                    <form id="theme">
                        <h5>Theme</h5>
                        <label><input type="radio" checked name="theme" value="receipt" onclick="getValue(this)">
                        영수증(디폴트)</label>
                        <label><input type="radio" value="popcute" name="theme" onclick="getValue(this)">
                    팝&큐트</label>
                    <label><input type="radio" value="neko" name="theme" onclick="getValue(this)">
                        고양이</label>
                    </form>
                    <form id="color">
                        <h5>컬러테마</h5>
                        <p>원하는 컬러를 설정해주세요. (테마에 따라 적용되지 않을 수 있습니다.)</p>
                        <input type="color" id="colorPicker" onchange="changeBackgroundColor(this.value)" style="border: 1px solid #ffffff;">
                    </form>
                    <form id="file">
                        <h5>커플 이미지</h5>
                        <p>상단에 들어갈 이미지를 넣어주세요.</p>
                        <input type="file" id="imageInput" accept="image/*" />
                    </form>
                    <button id="captureBtn" type="button" class="btn btn-light">이미지로 저장</button>
                    <div id="notice" class="mt-5">
                        <h4>사용 전 주의사항</h4>
                        <ul class="fs-6">
                            <li>본 페어틀은 마나카(@latoaruji)의 2차 지인만이 사용 가능합니다.</li>
                            <li>본 페어틀은 아쿠네코 라토 바카, 스타마이 스가노 나츠키 드림러 및 겹최애분은 사용할 수 없습니다. 발각 시 내립니다.</li>
                            <li>본 페어틀의 링크 및 비밀번호가 누출되는 상황이 발생할 경우 즉시 내립니다.</li>
                            <li>본 페어틀은 인터넷만 있으면 작성 가능한 웹 페어틀로서, 코딩을 수정하는 것을 금합니다.</li>
                            <li>본 페어틀로부터 생성된 이미지의 가공 행위를 금합니다.</li>
                        </ul>
                    </div>
                </div>
            </div>
    </div>
    <script>
        window.onload = function() {
            getValue({ value: 'receipt' }); // Simulate selecting the receipt
        };

// Show selected div based on radio button
function getValue(selectedRadio) {
    const divs = document.querySelectorAll('.content');
    divs.forEach(div => div.style.display = 'none');

    const selectedDiv = document.getElementById(selectedRadio.value);
    if (selectedDiv) {
        selectedDiv.style.display = 'block';
    }
}
document.getElementById('imageInput').addEventListener('change', function(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            // Get all elements with the class 'couple'
            const coupleElements = document.getElementsByClassName('couple');
            for (let i = 0; i < coupleElements.length; i++) {
                coupleElements[i].style.backgroundImage = `url(${e.target.result})`;
                coupleElements[i].style.display = 'block'; // Ensure they are visible
            }
        };
        reader.readAsDataURL(file); // Convert the file to a data URL
    }
});


// Change background color function
function changeBackgroundColor(color) {
    document.getElementById('paper').style.backgroundColor = color; 
    document.getElementById('popcute').style.backgroundColor = color;
    document.getElementById('neko').style.backgroundColor = color;
}

// Capture screenshot when button is clicked
document.getElementById('captureBtn').addEventListener('click', function() {
    // Find the currently visible div
    const visibleDiv = document.querySelector('.content[style*="display: block"]');
    if (visibleDiv) {
        html2canvas(visibleDiv).then(canvas => {
            const link = document.createElement('a');
            link.href = canvas.toDataURL("image/png");
            link.download = '장바구니리스트.png';
            link.click();
        }).catch(error => {
            console.error('Error capturing screenshot:', error);
        });
    } else {
        alert('Please select a theme first!');
    }
});

        </script>
</body>
</html>
